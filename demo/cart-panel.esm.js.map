{"version":3,"file":"cart-panel.esm.js","sources":["../node_modules/@magic-spells/event-emitter/dist/event-emitter.esm.js","../src/cart-item.js","../src/cart-panel.js"],"sourcesContent":["class EventEmitter {\n  #events;\n\n  constructor() {\n    this.#events = new Map();\n  }\n\n  /**\n   * Binds a listener to an event.\n   * @param {string} event - The event to bind the listener to.\n   * @param {Function} listener - The listener function to bind.\n   * @returns {EventEmitter} The current instance for chaining.\n   * @throws {TypeError} If the listener is not a function.\n   */\n  on(event, listener) {\n    if (typeof listener !== \"function\") {\n      throw new TypeError(\"Listener must be a function\");\n    }\n\n    const listeners = this.#events.get(event) || [];\n    if (!listeners.includes(listener)) {\n      listeners.push(listener);\n    }\n    this.#events.set(event, listeners);\n\n    return this;\n  }\n\n  /**\n   * Unbinds a listener from an event.\n   * @param {string} event - The event to unbind the listener from.\n   * @param {Function} listener - The listener function to unbind.\n   * @returns {EventEmitter} The current instance for chaining.\n   */\n  off(event, listener) {\n    const listeners = this.#events.get(event);\n    if (!listeners) return this;\n\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n      listeners.splice(index, 1);\n      if (listeners.length === 0) {\n        this.#events.delete(event);\n      } else {\n        this.#events.set(event, listeners);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Triggers an event and calls all bound listeners.\n   * @param {string} event - The event to trigger.\n   * @param {...*} args - Arguments to pass to the listener functions.\n   * @returns {boolean} True if the event had listeners, false otherwise.\n   */\n  emit(event, ...args) {\n    const listeners = this.#events.get(event);\n    if (!listeners || listeners.length === 0) return false;\n\n    for (let i = 0, n = listeners.length; i < n; ++i) {\n      try {\n        listeners[i].apply(this, args);\n      } catch (error) {\n        console.error(`Error in listener for event '${event}':`, error);\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Removes all listeners for a specific event or all events.\n   * @param {string} [event] - The event to remove listeners from. If not provided, removes all listeners.\n   * @returns {EventEmitter} The current instance for chaining.\n   */\n  removeAllListeners(event) {\n    if (event) {\n      this.#events.delete(event);\n    } else {\n      this.#events.clear();\n    }\n    return this;\n  }\n}\n\nexport { EventEmitter as default };\n//# sourceMappingURL=event-emitter.esm.js.map\n","// =============================================================================\n// CartItem Component\n// =============================================================================\n\n/**\n * CartItem class that handles the functionality of a cart item component\n */\nclass CartItem extends HTMLElement {\n\t// Static template functions shared across all instances\n\tstatic #templates = new Map();\n\tstatic #processingTemplate = null;\n\n\t// Private fields\n\t#currentState = 'ready';\n\t#isDestroying = false;\n\t#isAppearing = false;\n\t#handlers = {};\n\t#itemData = null;\n\t#cartData = null;\n\t#lastRenderedHTML = '';\n\n\t/**\n\t * Set the template function for rendering cart items\n\t * @param {string} name - Template name ('default' for default template)\n\t * @param {Function} templateFn - Function that takes (itemData, cartData) and returns HTML string\n\t */\n\tstatic setTemplate(name, templateFn) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new Error('Template name must be a string');\n\t\t}\n\t\tif (typeof templateFn !== 'function') {\n\t\t\tthrow new Error('Template must be a function');\n\t\t}\n\t\tCartItem.#templates.set(name, templateFn);\n\t}\n\n\t/**\n\t * Set the processing template function for rendering processing overlay\n\t * @param {Function} templateFn - Function that returns HTML string for processing state\n\t */\n\tstatic setProcessingTemplate(templateFn) {\n\t\tif (typeof templateFn !== 'function') {\n\t\t\tthrow new Error('Processing template must be a function');\n\t\t}\n\t\tCartItem.#processingTemplate = templateFn;\n\t}\n\n\t/**\n\t * Create a cart item with appearing animation\n\t * @param {Object} itemData - Shopify cart item data\n\t * @param {Object} cartData - Full Shopify cart object\n\t * @returns {CartItem} Cart item instance that will animate in\n\t */\n\tstatic createAnimated(itemData, cartData) {\n\t\treturn new CartItem(itemData, cartData, { animate: true });\n\t}\n\n\t/**\n\t * Define which attributes should be observed for changes\n\t */\n\tstatic get observedAttributes() {\n\t\treturn ['state', 'key'];\n\t}\n\n\t/**\n\t * Called when observed attributes change\n\t */\n\tattributeChangedCallback(name, oldValue, newValue) {\n\t\tif (oldValue === newValue) return;\n\n\t\tif (name === 'state') {\n\t\t\tthis.#currentState = newValue || 'ready';\n\t\t}\n\t}\n\n\tconstructor(itemData = null, cartData = null, options = {}) {\n\t\tsuper();\n\n\t\t// Store item and cart data if provided\n\t\tthis.#itemData = itemData;\n\t\tthis.#cartData = cartData;\n\n\t\t// Set initial state - start with 'appearing' only if explicitly requested\n\t\tconst shouldAnimate = options.animate || this.hasAttribute('animate-in');\n\t\tthis.#currentState =\n\t\t\titemData && shouldAnimate ? 'appearing' : this.getAttribute('state') || 'ready';\n\n\t\t// Bind event handlers\n\t\tthis.#handlers = {\n\t\t\tclick: this.#handleClick.bind(this),\n\t\t\tchange: this.#handleChange.bind(this),\n\t\t\ttransitionEnd: this.#handleTransitionEnd.bind(this),\n\t\t};\n\t}\n\n\tconnectedCallback() {\n\t\tconst _ = this;\n\n\t\t// If we have item data, render it first\n\t\tif (_.#itemData) _.#render();\n\n\t\t// Find child elements and attach listeners\n\t\t_.#queryDOM();\n\t\t_.#updateLinePriceElements();\n\t\t_.#attachListeners();\n\n\t\t// If we started with 'appearing' state, handle the entry animation\n\t\tif (_.#currentState === 'appearing') {\n\t\t\t_.setAttribute('state', 'appearing');\n\t\t\t_.#isAppearing = true;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\t_.style.height = `${_.scrollHeight}px`;\n\t\t\t\trequestAnimationFrame(() => _.setState('ready'));\n\t\t\t});\n\t\t}\n\t}\n\n\tdisconnectedCallback() {\n\t\t// Cleanup event listeners\n\t\tthis.#detachListeners();\n\t}\n\n\t/**\n\t * Query and cache DOM elements\n\t */\n\t#queryDOM() {\n\t\tthis.content = this.querySelector('cart-item-content');\n\t\tthis.processing = this.querySelector('cart-item-processing');\n\t}\n\n\t/**\n\t * Attach event listeners\n\t */\n\t#attachListeners() {\n\t\tconst _ = this;\n\t\t_.addEventListener('click', _.#handlers.click);\n\t\t_.addEventListener('change', _.#handlers.change);\n\t\t_.addEventListener('quantity-input:change', _.#handlers.change);\n\t\t_.addEventListener('transitionend', _.#handlers.transitionEnd);\n\t}\n\n\t/**\n\t * Detach event listeners\n\t */\n\t#detachListeners() {\n\t\tconst _ = this;\n\t\t_.removeEventListener('click', _.#handlers.click);\n\t\t_.removeEventListener('change', _.#handlers.change);\n\t\t_.removeEventListener('quantity-input:change', _.#handlers.change);\n\t\t_.removeEventListener('transitionend', _.#handlers.transitionEnd);\n\t}\n\n\t/**\n\t * Get the current state\n\t */\n\tget state() {\n\t\treturn this.#currentState;\n\t}\n\n\t/**\n\t * Get the cart key for this item\n\t */\n\tget cartKey() {\n\t\treturn this.getAttribute('key');\n\t}\n\n\t/**\n\t * Handle click events (for Remove buttons, etc.)\n\t */\n\t#handleClick(e) {\n\t\t// Check if clicked element is a remove button\n\t\tconst removeButton = e.target.closest('[data-action-remove-item]');\n\t\tif (removeButton) {\n\t\t\te.preventDefault();\n\t\t\tthis.#emitRemoveEvent();\n\t\t}\n\t}\n\n\t/**\n\t * Handle change events (for quantity inputs and quantity-input component)\n\t */\n\t#handleChange(e) {\n\t\t// Check if event is from quantity-input component\n\t\tif (e.type === 'quantity-input:change') {\n\t\t\tthis.#emitQuantityChangeEvent(e.detail.value);\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if changed element is a quantity input\n\t\tconst quantityInput = e.target.closest('[data-cart-quantity]');\n\t\tif (quantityInput) {\n\t\t\tthis.#emitQuantityChangeEvent(quantityInput.value);\n\t\t}\n\t}\n\n\t/**\n\t * Handle transition end events for destroy animation and appearing animation\n\t */\n\t#handleTransitionEnd(e) {\n\t\tif (e.propertyName === 'height' && this.#isDestroying) {\n\t\t\t// Remove from DOM after height animation completes\n\t\t\tthis.remove();\n\t\t} else if (e.propertyName === 'height' && this.#isAppearing) {\n\t\t\t// Remove explicit height after appearing animation completes\n\t\t\tthis.style.height = '';\n\t\t\tthis.#isAppearing = false;\n\t\t}\n\t}\n\n\t/**\n\t * Emit remove event\n\t */\n\t#emitRemoveEvent() {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent('cart-item:remove', {\n\t\t\t\tbubbles: true,\n\t\t\t\tdetail: {\n\t\t\t\t\tcartKey: this.cartKey,\n\t\t\t\t\telement: this,\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Emit quantity change event\n\t */\n\t#emitQuantityChangeEvent(quantity) {\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent('cart-item:quantity-change', {\n\t\t\t\tbubbles: true,\n\t\t\t\tdetail: {\n\t\t\t\t\tcartKey: this.cartKey,\n\t\t\t\t\tquantity: parseInt(quantity),\n\t\t\t\t\telement: this,\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Render cart item from data using the appropriate template\n\t */\n\t#render() {\n\t\tconst _ = this;\n\t\tif (!_.#itemData || CartItem.#templates.size === 0) return;\n\n\t\t// Set the key attribute from item data\n\t\tconst key = _.#itemData.key || _.#itemData.id;\n\t\tif (key) _.setAttribute('key', key);\n\n\t\t// Generate HTML from template and store for future comparisons\n\t\tconst templateHTML = _.#generateTemplateHTML();\n\t\t_.#lastRenderedHTML = templateHTML;\n\n\t\t// Generate processing HTML from template or use default\n\t\tconst processingHTML = CartItem.#processingTemplate\n\t\t\t? CartItem.#processingTemplate()\n\t\t\t: '<div class=\"cart-item-loader\"></div>';\n\n\t\t// Create the cart-item structure with template content inside cart-item-content\n\t\t_.innerHTML = `\n\t\t\t<cart-item-content>\n\t\t\t\t${templateHTML}\n\t\t\t</cart-item-content>\n\t\t\t<cart-item-processing>\n\t\t\t\t${processingHTML}\n\t\t\t</cart-item-processing>\n\t\t`;\n\t}\n\n\t/**\n\t * Update the cart item with new data\n\t * @param {Object} itemData - Shopify cart item data\n\t * @param {Object} cartData - Full Shopify cart object\n\t */\n\tsetData(itemData, cartData = null) {\n\t\tconst _ = this;\n\n\t\t// Update internal data\n\t\t_.#itemData = itemData;\n\t\tif (cartData) _.#cartData = cartData;\n\n\t\t// Generate new HTML with updated data\n\t\tconst newHTML = _.#generateTemplateHTML();\n\n\t\t// Compare with previously rendered HTML\n\t\tif (newHTML === _.#lastRenderedHTML) {\n\t\t\t// HTML hasn't changed, just reset processing state\n\t\t\t_.setState('ready');\n\t\t\t_.#updateQuantityInput();\n\t\t\treturn;\n\t\t}\n\n\t\t// HTML is different, proceed with full update\n\t\t_.setState('ready');\n\t\t_.#render();\n\t\t_.#queryDOM();\n\t\t_.#updateLinePriceElements();\n\t}\n\n\t/**\n\t * Generate HTML from the current template with current data\n\t * @returns {string} Generated HTML string or empty string if no template\n\t * @private\n\t */\n\t#generateTemplateHTML() {\n\t\t// If no templates are available, return empty string\n\t\tif (!this.#itemData || CartItem.#templates.size === 0) {\n\t\t\treturn '';\n\t\t}\n\n\t\t// Determine which template to use\n\t\tconst templateName = this.#itemData.properties?._cart_template || 'default';\n\t\tconst templateFn = CartItem.#templates.get(templateName) || CartItem.#templates.get('default');\n\n\t\tif (!templateFn) {\n\t\t\treturn '';\n\t\t}\n\n\t\t// Generate and return HTML from template\n\t\treturn templateFn(this.#itemData, this.#cartData);\n\t}\n\n\t/**\n\t * Update quantity input component to match server data\n\t * @private\n\t */\n\t#updateQuantityInput() {\n\t\tif (!this.#itemData) return;\n\n\t\tconst quantityInput = this.querySelector('quantity-input');\n\t\tif (quantityInput) {\n\t\t\tquantityInput.value = this.#itemData.quantity;\n\t\t}\n\t}\n\n\t/**\n\t * Update elements with data-content-line-price attribute\n\t * @private\n\t */\n\t#updateLinePriceElements() {\n\t\tif (!this.#itemData) return;\n\n\t\tconst linePriceElements = this.querySelectorAll('[data-content-line-price]');\n\t\tconst formattedLinePrice = this.#formatCurrency(this.#itemData.line_price || 0);\n\n\t\tlinePriceElements.forEach((element) => {\n\t\t\telement.textContent = formattedLinePrice;\n\t\t});\n\t}\n\n\t/**\n\t * Format currency value from cents to dollar string\n\t * @param {number} cents - Price in cents\n\t * @returns {string} Formatted currency string (e.g., \"$29.99\")\n\t * @private\n\t */\n\t#formatCurrency(cents) {\n\t\tif (typeof cents !== 'number') return '$0.00';\n\t\treturn `$${(cents / 100).toFixed(2)}`;\n\t}\n\n\t/**\n\t * Get the current item data\n\t */\n\tget itemData() {\n\t\treturn this.#itemData;\n\t}\n\n\t/**\n\t * Set the state of the cart item\n\t * @param {string} state - 'ready', 'processing', 'destroying', or 'appearing'\n\t */\n\tsetState(state) {\n\t\tif (['ready', 'processing', 'destroying', 'appearing'].includes(state)) {\n\t\t\tthis.setAttribute('state', state);\n\t\t}\n\t}\n\n\t/**\n\t * Gracefully animate this cart item closed, then remove it\n\t */\n\tdestroyYourself() {\n\t\tconst _ = this;\n\n\t\t// bail if already in the middle of a destroy cycle\n\t\tif (_.#isDestroying) return;\n\t\t_.#isDestroying = true;\n\n\t\t// snapshot the current rendered height before applying any \"destroying\" styles\n\t\tconst initialHeight = _.offsetHeight;\n\t\t_.setState('destroying');\n\n\t\t// lock the measured height on the next animation frame to ensure layout is fully flushed\n\t\trequestAnimationFrame(() => {\n\t\t\t_.style.height = `${initialHeight}px`;\n\n\t\t\t// read the css custom property for timing, defaulting to 400ms\n\t\t\tconst destroyDuration =\n\t\t\t\tgetComputedStyle(_).getPropertyValue('--cart-item-destroying-duration')?.trim() || '400ms';\n\n\t\t\t// animate only the height to zero; other properties stay under stylesheet control\n\t\t\t_.style.transition = `height ${destroyDuration} ease`;\n\t\t\t_.style.height = '0px';\n\n\t\t\tsetTimeout(() => _.remove(), 600);\n\t\t});\n\t}\n}\n\n/**\n * Supporting component classes for cart item\n */\nclass CartItemContent extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n\nclass CartItemProcessing extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n\n// =============================================================================\n// Register Custom Elements\n// =============================================================================\n\nif (!customElements.get('cart-item')) {\n\tcustomElements.define('cart-item', CartItem);\n}\nif (!customElements.get('cart-item-content')) {\n\tcustomElements.define('cart-item-content', CartItemContent);\n}\nif (!customElements.get('cart-item-processing')) {\n\tcustomElements.define('cart-item-processing', CartItemProcessing);\n}\n\nexport { CartItem, CartItemContent, CartItemProcessing };\nexport default CartItem;\n\n// Make CartItem available globally for Shopify themes\nif (typeof window !== 'undefined') {\n\twindow.CartItem = CartItem;\n}\n","import './cart-panel.css';\nimport EventEmitter from '@magic-spells/event-emitter';\nimport { CartItem, CartItemContent, CartItemProcessing } from './cart-item.js';\n\n// =============================================================================\n// CartPanel Component\n// =============================================================================\n\n/**\n * Shopping cart panel web component for Shopify.\n * Manages cart data and AJAX requests, delegates modal behavior to dialog-panel.\n * @extends HTMLElement\n */\nclass CartPanel extends HTMLElement {\n\t#currentCart = null;\n\t#eventEmitter;\n\t#isInitialRender = true;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.#eventEmitter = new EventEmitter();\n\t}\n\n\tconnectedCallback() {\n\t\tthis.#attachListeners();\n\n\t\t// Load cart data immediately unless manual mode is enabled\n\t\tif (!this.hasAttribute('manual')) {\n\t\t\tthis.getCartAndRefresh();\n\t\t}\n\t}\n\n\tdisconnectedCallback() {\n\t\t// Clean up handled by garbage collection\n\t}\n\n\t// =========================================================================\n\t// Public API - Event Emitter\n\t// =========================================================================\n\n\t/**\n\t * Add an event listener\n\t * @param {string} eventName - Name of the event\n\t * @param {Function} callback - Callback function\n\t * @returns {CartPanel} Returns this for method chaining\n\t */\n\ton(eventName, callback) {\n\t\tthis.#eventEmitter.on(eventName, callback);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Remove an event listener\n\t * @param {string} eventName - Name of the event\n\t * @param {Function} callback - Callback function\n\t * @returns {CartPanel} Returns this for method chaining\n\t */\n\toff(eventName, callback) {\n\t\tthis.#eventEmitter.off(eventName, callback);\n\t\treturn this;\n\t}\n\n\t// =========================================================================\n\t// Public API - Dialog Control\n\t// =========================================================================\n\n\t/**\n\t * Show the cart by finding and opening the nearest dialog-panel ancestor\n\t * @param {HTMLElement} [triggerEl=null] - The element that triggered the open\n\t * @param {Object} [cartObj=null] - Optional cart object to use instead of fetching\n\t */\n\tshow(triggerEl = null, cartObj = null) {\n\t\tconst _ = this;\n\t\tconst dialogPanel = _.#findDialogPanel();\n\n\t\tif (dialogPanel) {\n\t\t\tdialogPanel.show(triggerEl);\n\t\t\tcartObj ? _.refreshCart(cartObj) : _.getCartAndRefresh();\n\t\t\t_.#emit('cart-panel:show', { triggerElement: triggerEl });\n\t\t} else {\n\t\t\tconsole.warn('cart-panel: No dialog-panel ancestor found. Cart panel is visible but not in a modal.');\n\t\t}\n\t}\n\n\t/**\n\t * Hide the cart by finding and closing the nearest dialog-panel ancestor\n\t */\n\thide() {\n\t\tconst dialogPanel = this.#findDialogPanel();\n\t\tif (dialogPanel) {\n\t\t\tdialogPanel.hide();\n\t\t\tthis.#emit('cart-panel:hide', {});\n\t\t}\n\t}\n\n\t// =========================================================================\n\t// Public API - Cart Data\n\t// =========================================================================\n\n\t/**\n\t * Fetch current cart data from Shopify\n\t * @returns {Promise<Object>} Cart data object\n\t */\n\tgetCart() {\n\t\treturn fetch('/cart.json', {\n\t\t\tcredentials: 'same-origin',\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow Error(response.statusText);\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error fetching cart:', error);\n\t\t\t\treturn { error: true, message: error.message };\n\t\t\t});\n\t}\n\n\t/**\n\t * Update cart item quantity on Shopify\n\t * @param {string|number} key - Cart item key/ID\n\t * @param {number} quantity - New quantity (0 to remove)\n\t * @returns {Promise<Object>} Updated cart data object\n\t */\n\tupdateCartItem(key, quantity) {\n\t\treturn fetch('/cart/change.json', {\n\t\t\tmethod: 'POST',\n\t\t\tcredentials: 'same-origin',\n\t\t\tbody: JSON.stringify({ id: key, quantity: quantity }),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow Error(response.statusText);\n\t\t\t\t}\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('Error updating cart item:', error);\n\t\t\t\treturn { error: true, message: error.message };\n\t\t\t});\n\t}\n\n\t/**\n\t * Fetch cart from server and refresh display\n\t * @returns {Promise<Object>} Cart data object\n\t */\n\tgetCartAndRefresh() {\n\t\tconst _ = this;\n\t\treturn _.getCart().then((cartData) => {\n\t\t\tif (cartData && !cartData.error) {\n\t\t\t\t_.refreshCart(cartData);\n\t\t\t} else {\n\t\t\t\tconsole.warn('Cart data has error or is null:', cartData);\n\t\t\t}\n\t\t\treturn cartData;\n\t\t});\n\t}\n\n\t/**\n\t * Refresh cart display with provided cart data\n\t * @param {Object} cartObj - Cart object to render\n\t */\n\trefreshCart(cartObj) {\n\t\tconst _ = this;\n\t\tif (!cartObj || cartObj.error) return;\n\n\t\t_.#currentCart = cartObj;\n\t\t_.#renderCartItems(cartObj);\n\t\t_.#renderCartPanel(cartObj);\n\n\t\tconst cartWithCalculatedFields = _.#addCalculatedFields(cartObj);\n\t\t_.#emit('cart-panel:refreshed', { cart: cartWithCalculatedFields });\n\t\t_.#emit('cart-panel:data-changed', cartWithCalculatedFields);\n\t}\n\n\t// =========================================================================\n\t// Public API - Templates\n\t// =========================================================================\n\n\t/**\n\t * Set the template function for cart items\n\t * @param {string} templateName - Name of the template\n\t * @param {Function} templateFn - Function that takes (itemData, cartData) and returns HTML string\n\t */\n\tsetCartItemTemplate(templateName, templateFn) {\n\t\tCartItem.setTemplate(templateName, templateFn);\n\t}\n\n\t/**\n\t * Set the processing template function for cart items\n\t * @param {Function} templateFn - Function that returns HTML string for processing state\n\t */\n\tsetCartItemProcessingTemplate(templateFn) {\n\t\tCartItem.setProcessingTemplate(templateFn);\n\t}\n\n\t// =========================================================================\n\t// Private Methods - Core\n\t// =========================================================================\n\n\t/**\n\t * Find the nearest dialog-panel ancestor\n\t * @private\n\t */\n\t#findDialogPanel() {\n\t\treturn this.closest('dialog-panel');\n\t}\n\n\t/**\n\t * Emit an event via EventEmitter and native CustomEvent\n\t * @private\n\t */\n\t#emit(eventName, data = null) {\n\t\tthis.#eventEmitter.emit(eventName, data);\n\n\t\tthis.dispatchEvent(\n\t\t\tnew CustomEvent(eventName, {\n\t\t\t\tdetail: data,\n\t\t\t\tbubbles: true,\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * Attach event listeners\n\t * @private\n\t */\n\t#attachListeners() {\n\t\t// Handle close buttons\n\t\tthis.addEventListener('click', (e) => {\n\t\t\tif (!e.target.closest('[data-action-hide-cart]')) return;\n\t\t\tthis.hide();\n\t\t});\n\n\t\t// Handle cart item remove events\n\t\tthis.addEventListener('cart-item:remove', (e) => {\n\t\t\tthis.#handleCartItemRemove(e);\n\t\t});\n\n\t\t// Handle cart item quantity change events\n\t\tthis.addEventListener('cart-item:quantity-change', (e) => {\n\t\t\tthis.#handleCartItemQuantityChange(e);\n\t\t});\n\t}\n\n\t// =========================================================================\n\t// Private Methods - Cart Item Event Handlers\n\t// =========================================================================\n\n\t/**\n\t * Handle cart item removal\n\t * @private\n\t */\n\t#handleCartItemRemove(e) {\n\t\tconst _ = this;\n\t\tconst { cartKey, element } = e.detail;\n\n\t\telement.setState('processing');\n\n\t\t_.updateCartItem(cartKey, 0)\n\t\t\t.then((updatedCart) => {\n\t\t\t\tif (updatedCart && !updatedCart.error) {\n\t\t\t\t\t_.#currentCart = updatedCart;\n\t\t\t\t\t_.#renderCartItems(updatedCart);\n\t\t\t\t\t_.#renderCartPanel(updatedCart);\n\n\t\t\t\t\tconst cartWithCalculatedFields = _.#addCalculatedFields(updatedCart);\n\t\t\t\t\t_.#emit('cart-panel:updated', { cart: cartWithCalculatedFields });\n\t\t\t\t\t_.#emit('cart-panel:data-changed', cartWithCalculatedFields);\n\t\t\t\t} else {\n\t\t\t\t\telement.setState('ready');\n\t\t\t\t\tconsole.error('Failed to remove cart item:', cartKey);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\telement.setState('ready');\n\t\t\t\tconsole.error('Error removing cart item:', error);\n\t\t\t});\n\t}\n\n\t/**\n\t * Handle cart item quantity change\n\t * @private\n\t */\n\t#handleCartItemQuantityChange(e) {\n\t\tconst _ = this;\n\t\tconst { cartKey, quantity, element } = e.detail;\n\n\t\telement.setState('processing');\n\n\t\t_.updateCartItem(cartKey, quantity)\n\t\t\t.then((updatedCart) => {\n\t\t\t\tif (updatedCart && !updatedCart.error) {\n\t\t\t\t\t_.#currentCart = updatedCart;\n\t\t\t\t\t_.#renderCartItems(updatedCart);\n\t\t\t\t\t_.#renderCartPanel(updatedCart);\n\n\t\t\t\t\tconst cartWithCalculatedFields = _.#addCalculatedFields(updatedCart);\n\t\t\t\t\t_.#emit('cart-panel:updated', { cart: cartWithCalculatedFields });\n\t\t\t\t\t_.#emit('cart-panel:data-changed', cartWithCalculatedFields);\n\t\t\t\t} else {\n\t\t\t\t\telement.setState('ready');\n\t\t\t\t\tconsole.error('Failed to update cart item quantity:', cartKey, quantity);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\telement.setState('ready');\n\t\t\t\tconsole.error('Error updating cart item quantity:', error);\n\t\t\t});\n\t}\n\n\t// =========================================================================\n\t// Private Methods - Rendering\n\t// =========================================================================\n\n\t/**\n\t * Update cart count elements across the page\n\t * @private\n\t */\n\t#renderCartCount(cartData) {\n\t\tif (!cartData) return;\n\n\t\tconst visibleItems = this.#getVisibleCartItems(cartData);\n\t\tconst visibleItemCount = visibleItems.reduce((total, item) => total + item.quantity, 0);\n\n\t\tconst cartCountElements = document.querySelectorAll('[data-content-cart-count]');\n\t\tcartCountElements.forEach((element) => {\n\t\t\telement.textContent = visibleItemCount;\n\t\t});\n\t}\n\n\t/**\n\t * Update cart subtotal elements across the page\n\t * @private\n\t */\n\t#renderCartSubtotal(cartData) {\n\t\tif (!cartData) return;\n\n\t\tconst pricedItems = cartData.items.filter((item) => {\n\t\t\tconst ignorePrice = item.properties?._ignore_price_in_subtotal;\n\t\t\treturn !ignorePrice;\n\t\t});\n\t\tconst subtotal = pricedItems.reduce((total, item) => total + (item.line_price || 0), 0);\n\n\t\tconst cartSubtotalElements = document.querySelectorAll('[data-content-cart-subtotal]');\n\t\tcartSubtotalElements.forEach((element) => {\n\t\t\tconst formatted = (subtotal / 100).toFixed(2);\n\t\t\telement.textContent = `$${formatted}`;\n\t\t});\n\t}\n\n\t/**\n\t * Update cart panel sections (has-items/empty)\n\t * @private\n\t */\n\t#renderCartPanel(cart = null) {\n\t\tconst _ = this;\n\t\tconst cartData = cart || _.#currentCart;\n\t\tif (!cartData) return;\n\n\t\tconst visibleItems = _.#getVisibleCartItems(cartData);\n\t\tconst hasVisibleItems = visibleItems.length > 0;\n\n\t\t// Set state attribute for CSS styling (e.g., Tailwind variants)\n\t\t_.setAttribute('state', hasVisibleItems ? 'has-items' : 'empty');\n\n\t\tconst hasItemsSection = _.querySelector('[data-cart-has-items]');\n\t\tconst emptySection = _.querySelector('[data-cart-is-empty]');\n\n\t\tif (hasItemsSection && emptySection) {\n\t\t\thasItemsSection.style.display = hasVisibleItems ? '' : 'none';\n\t\t\temptySection.style.display = hasVisibleItems ? 'none' : '';\n\t\t}\n\n\t\t_.#renderCartCount(cartData);\n\t\t_.#renderCartSubtotal(cartData);\n\t}\n\n\t/**\n\t * Render cart items with smart add/update/remove\n\t * @private\n\t */\n\t#renderCartItems(cartData) {\n\t\tconst _ = this;\n\t\tconst itemsContainer = _.querySelector('[data-content-cart-items]');\n\n\t\tif (!itemsContainer || !cartData || !cartData.items) return;\n\n\t\tconst visibleItems = _.#getVisibleCartItems(cartData);\n\n\t\t// Initial render - load all items without animation\n\t\tif (_.#isInitialRender) {\n\t\t\titemsContainer.innerHTML = '';\n\t\t\tvisibleItems.forEach((itemData) => {\n\t\t\t\titemsContainer.appendChild(new CartItem(itemData, cartData));\n\t\t\t});\n\t\t\t_.#isInitialRender = false;\n\t\t\treturn;\n\t\t}\n\n\t\t// Get current DOM items\n\t\tconst currentItems = Array.from(itemsContainer.querySelectorAll('cart-item'));\n\t\tconst currentKeys = new Set(currentItems.map((item) => item.getAttribute('key')));\n\n\t\t// Get new cart data keys\n\t\tconst newKeys = visibleItems.map((item) => item.key || item.id);\n\t\tconst newKeysSet = new Set(newKeys);\n\n\t\t// Step 1: Remove items no longer in cart\n\t\t_.#removeItemsFromDOM(itemsContainer, newKeysSet);\n\n\t\t// Step 2: Update existing items\n\t\t_.#updateItemsInDOM(itemsContainer, cartData);\n\n\t\t// Step 3: Add new items with animation\n\t\tconst itemsToAdd = visibleItems.filter(\n\t\t\t(itemData) => !currentKeys.has(itemData.key || itemData.id)\n\t\t);\n\t\t_.#addItemsToDOM(itemsContainer, itemsToAdd, newKeys, cartData);\n\t}\n\n\t/**\n\t * Remove items from DOM that are no longer in cart\n\t * @private\n\t */\n\t#removeItemsFromDOM(itemsContainer, newKeysSet) {\n\t\tconst currentItems = Array.from(itemsContainer.querySelectorAll('cart-item'));\n\t\tconst itemsToRemove = currentItems.filter((item) => !newKeysSet.has(item.getAttribute('key')));\n\n\t\titemsToRemove.forEach((item) => {\n\t\t\titem.destroyYourself();\n\t\t});\n\t}\n\n\t/**\n\t * Update existing cart-item elements with fresh data\n\t * @private\n\t */\n\t#updateItemsInDOM(itemsContainer, cartData) {\n\t\tconst visibleItems = this.#getVisibleCartItems(cartData);\n\t\tconst existingItems = Array.from(itemsContainer.querySelectorAll('cart-item'));\n\n\t\texistingItems.forEach((cartItemEl) => {\n\t\t\tconst key = cartItemEl.getAttribute('key');\n\t\t\tconst updatedItemData = visibleItems.find((item) => (item.key || item.id) === key);\n\t\t\tif (updatedItemData) cartItemEl.setData(updatedItemData, cartData);\n\t\t});\n\t}\n\n\t/**\n\t * Add new items to DOM with animation delay\n\t * @private\n\t */\n\t#addItemsToDOM(itemsContainer, itemsToAdd, newKeys, cartData) {\n\t\tsetTimeout(() => {\n\t\t\titemsToAdd.forEach((itemData) => {\n\t\t\t\tconst cartItem = CartItem.createAnimated(itemData, cartData);\n\t\t\t\tconst targetIndex = newKeys.indexOf(itemData.key || itemData.id);\n\n\t\t\t\tif (targetIndex === 0) {\n\t\t\t\t\titemsContainer.insertBefore(cartItem, itemsContainer.firstChild);\n\t\t\t\t} else {\n\t\t\t\t\tlet insertAfter = null;\n\t\t\t\t\tfor (let i = targetIndex - 1; i >= 0; i--) {\n\t\t\t\t\t\tconst prevKey = newKeys[i];\n\t\t\t\t\t\tconst prevItem = itemsContainer.querySelector(`cart-item[key=\"${prevKey}\"]`);\n\t\t\t\t\t\tif (prevItem) {\n\t\t\t\t\t\t\tinsertAfter = prevItem;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (insertAfter) {\n\t\t\t\t\t\tinsertAfter.insertAdjacentElement('afterend', cartItem);\n\t\t\t\t\t} else {\n\t\t\t\t\t\titemsContainer.appendChild(cartItem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}, 100);\n\t}\n\n\t// =========================================================================\n\t// Private Methods - Helpers\n\t// =========================================================================\n\n\t/**\n\t * Filter cart items to exclude hidden items\n\t * @private\n\t */\n\t#getVisibleCartItems(cartData) {\n\t\tif (!cartData || !cartData.items) return [];\n\t\treturn cartData.items.filter((item) => {\n\t\t\tconst hidden = item.properties?._hide_in_cart;\n\t\t\treturn !hidden;\n\t\t});\n\t}\n\n\t/**\n\t * Add calculated fields to cart object\n\t * @private\n\t */\n\t#addCalculatedFields(cartData) {\n\t\tif (!cartData) return cartData;\n\n\t\tconst visibleItems = this.#getVisibleCartItems(cartData);\n\t\tconst calculated_count = visibleItems.reduce((total, item) => total + item.quantity, 0);\n\n\t\tconst pricedItems = cartData.items.filter((item) => !item.properties?._ignore_price_in_subtotal);\n\t\tconst calculated_subtotal = pricedItems.reduce((total, item) => total + (item.line_price || 0), 0);\n\n\t\treturn { ...cartData, calculated_count, calculated_subtotal };\n\t}\n}\n\n// =============================================================================\n// Register Custom Elements\n// =============================================================================\n\nif (!customElements.get('cart-panel')) {\n\tcustomElements.define('cart-panel', CartPanel);\n}\n\nexport { CartPanel, CartItem, CartItemContent, CartItemProcessing };\nexport default CartPanel;\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}